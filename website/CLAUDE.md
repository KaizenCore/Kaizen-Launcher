# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

Kaizen Launcher website - a Laravel 12 + Inertia v2 + React 19 application serving as the web presence for the Kaizen Minecraft launcher. Built with TypeScript, Tailwind CSS v4, and modern tooling.

## Development Commands

```bash
# Full development stack (server, queue, logs, Vite) - recommended
composer run dev

# Individual services
npm run dev           # Vite dev server only
php artisan serve     # Laravel server only

# Build
npm run build         # Production build

# Code quality
npm run lint          # ESLint with auto-fix
npm run format        # Prettier formatting
npm run types         # TypeScript type checking
vendor/bin/pint       # PHP code formatting (run before commits)

# Testing
php artisan test                              # Run all tests
php artisan test tests/Feature/ExampleTest.php  # Single file
php artisan test --filter=testName            # Filter by name

# Route/action generation (usually automatic via Vite plugin)
php artisan wayfinder:generate
```

## Architecture

### Backend (Laravel 12)
- **Routes**: `routes/web.php`, `routes/settings.php` (modular routing)
- **Controllers**: `app/Http/Controllers/` - return `Inertia::render()` responses
- **Form Requests**: `app/Http/Requests/` - array-based validation rules
- **Models**: `app/Models/` - use `casts()` method for attribute casting
- **Middleware**: Registered in `bootstrap/app.php` (no Kernel.php in L12)
- **Authentication**: Laravel Fortify with Two-Factor Authentication

### Frontend (React 19 + TypeScript)
- **Pages**: `resources/js/pages/` - Inertia page components
- **Components**: `resources/js/components/` - Radix UI + shadcn/ui pattern
- **Layouts**: `resources/js/layouts/` - AppLayout, AuthLayout, SettingsLayout
- **Hooks**: `resources/js/hooks/` - Custom React hooks
- **Routes/Actions**: `resources/js/routes/`, `resources/js/actions/` - Auto-generated by Wayfinder

### Key Integrations
- **Wayfinder**: Type-safe route helpers - import from `@/actions/` or `@/routes/`
- **Inertia v2**: Use `<Form>` component with Wayfinder's `.form()` method
- **Tailwind v4**: CSS-first config via `@theme` directive, no config.js

## Conventions

### Forms (Inertia + Wayfinder)
```tsx
import { Form } from '@inertiajs/react'
import { store } from '@/actions/App/Http/Controllers/PostController'

<Form {...store.form()}>
  {({ errors, processing }) => (
    // form fields
  )}
</Form>
```

### Navigation
```tsx
import { Link } from '@inertiajs/react'
<Link href="/dashboard">Dashboard</Link>
```

### Testing
- Use Pest v4 for all tests
- Feature tests in `tests/Feature/`, unit tests in `tests/Unit/`
- Browser tests available in `tests/Browser/`
- Use factories when creating test models

## Database

- SQLite database at `database/database.sqlite`
- Two-Factor Authentication columns on users table
- Run migrations: `php artisan migrate`
